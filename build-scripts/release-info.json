{
  "name": "sdl12-compat",
  "remote": "libsdl-org/sdl12-compat",
  "dependencies": {
    "SDL2": {
      "startswith": "2.",
      "repo": "libsdl-org/sdl2-compat"
    }
  },
  "version": {
    "file": "include/SDL/SDL_version.h",
    "re_major": "^#define SDL_MAJOR_VERSION\\s+([0-9]+)$",
    "re_minor": "^#define SDL_MINOR_VERSION\\s+([0-9]+)$",
    "re_micro": "^#define SDL_PATCHLEVEL\\s+([0-9]+)$"
  },
  "source": {
    "checks": [
      "src/SDL12_compat.c",
      "include/SDL/SDL.h",
      "test/testsprite.c"
    ]
  },
  "msvc": {
    "cmake": {
      "archs": [
        "x86",
        "x64"
      ],
      "args": [
        "-DSDL12COMPAT_VENDOR_INFO=libsdl.org",
        "-DSDL12COMPAT_INSTALL_SDL2=ON",
        "-DSDL12COMPAT_INSTALL_SDL3=ON",
        "-DSDL12TESTS=OFF",
        "-DSDL12DEVEL=ON",
        "-DSTATICDEVEL=OFF"
      ],
      "files-lib": {
        "": [
          "bin/SDL.dll",
        ]
      },
      "files-devel": {
        "lib/@<@ARCH@>@": [
          "bin/SDL.dll",
          "lib/SDL.lib",
          "lib/SDLmain.lib"
        ]
      }
    },
    "files-lib": {
      "": [
        "build-scripts/pkg-support/msvc/@<@ARCH@>@/INSTALL.md.in:INSTALL.md",
        "LICENSE.txt",
        "build-scripts/pkg-support/msvc/README.md",
        "@<@ARCH@>@/SDL2.dll",
        "@<@ARCH@>@/SDL3.dll"
      ]
    },
    "files-devel": {
      "": [
        "build-scripts/pkg-support/msvc/INSTALL.md",
        "LICENSE.txt",
        "build-scripts/pkg-support/msvc/README.md"
      ],
      "include": [
        "include/SDL/*"
      ]
    },
    "dependencies": {
      "SDL2": [
        {
          "artifact": "sdl2-compat-2.??.??.zip",
          "copy": [
            {
              "src": "*/include/SDL2/*",
              "dst": "sdl2-headers/SDL2"
            }
          ]
        },
        {
          "artifact": "sdl2-compat-*-win32-x86.zip",
          "copy": [
            {
              "src": "SDL2.dll",
              "dst": "x86/SDL2.dll"
            },
            {
              "src": "SDL3.dll",
              "dst": "x86/SDL3.dll"
            }
          ]
        },
        {
          "artifact": "sdl2-compat-*-win32-x64.zip",
          "copy": [
            {
              "src": "SDL2.dll",
              "dst": "x64/SDL2.dll"
            },
            {
              "src": "SDL3.dll",
              "dst": "x64/SDL3.dll"
            }
          ]
        }
      ]
    }
  }
}
